(this.webpackJsonpmoments=this.webpackJsonpmoments||[]).push([[0],{11:function(e,t,a){e.exports={Button:"Button_Button__27i9m",Wide:"Button_Wide__2ScDr",centerButton:"Button_centerButton__rfu3b"}},111:function(e,t,a){"use strict";a.r(t);var s=a(0),n=a.n(s),c=a(25),o=a.n(c),r=(a(79),a(18)),i=a.n(r),l=(a(80),a(44)),j=a(116),d=a(115),u=a(19),b=a.n(u),h=a(10),O=a(13),A=a.n(O);A.a.defaults.baseURL="/api",A.a.defaults.headers.post["Content-Type"]="multipart/form-data",A.a.defaults.withCredentials=!0;const x=A.a.create(),p=A.a.create();var m=a(9),v=a(66);const g=()=>{localStorage.removeItem("refreshTokenTimestamp")};var N=a(1);const K=Object(s.createContext)(),C=Object(s.createContext)(),f=()=>Object(s.useContext)(K),w=()=>Object(s.useContext)(C),k=e=>{let{children:t}=e;const[a,n]=Object(s.useState)(null),c=Object(m.useHistory)();return Object(s.useEffect)((()=>{(async()=>{try{const{data:e}=await p.get("dj-rest-auth/user/");n(e)}catch(e){}})()}),[]),Object(s.useMemo)((()=>{x.interceptors.request.use((async e=>{if(localStorage.getItem("refreshTokenTimestamp"))try{await A.a.post("/dj-rest-auth/token/refresh/")}catch(t){return n((e=>(e&&c.push("/signin"),null))),g(),e}return e}),(e=>Promise.reject(e))),p.interceptors.response.use((e=>e),(async e=>{var t;if(401===(null===(t=e.response)||void 0===t?void 0:t.status)){try{await A.a.post("/dj-rest-auth/token/refresh/")}catch(e){n((e=>(e&&c.push("/signin"),null))),g()}return A()(e.config)}return Promise.reject(e)}))}),[c]),Object(N.jsx)(K.Provider,{value:a,children:Object(N.jsx)(C.Provider,{value:n,children:t})})};var y=()=>{const[e,t]=Object(s.useState)(!1),a=Object(s.useRef)(null);return Object(s.useEffect)((()=>{const e=e=>{a.current&&!a.current.contains(e.target)&&t(!1)};return document.addEventListener("mouseup",e),()=>{document.removeEventListener("mouseup",e)}}),[a]),{expanded:e,setExpanded:t,ref:a}};var B=()=>{const e=f(),t=w(),{expanded:a,setExpanded:s,ref:n}=y(),c=Object(N.jsxs)(N.Fragment,{children:[Object(N.jsxs)(h.NavLink,{to:"/tasks/create",className:b.a.NavLink,activeClassName:b.a.Active,children:[Object(N.jsx)("i",{class:"fa-solid fa-plus"}),"Add Task"]}),Object(N.jsxs)(h.NavLink,{to:"/",className:b.a.NavLink,onClick:async()=>{try{await A.a.post("dj-rest-auth/logout/"),t(null)}catch(e){}},children:[Object(N.jsx)("i",{class:"fa-solid fa-arrow-right-from-bracket"}),"Sign Out"]})]}),o=Object(N.jsxs)(N.Fragment,{children:[Object(N.jsxs)(h.NavLink,{to:"/signin",className:b.a.NavLink,activeClassName:b.a.Active,children:[Object(N.jsx)("i",{className:"fa-solid fa-right-to-bracket"}),"Sign In"]}),Object(N.jsxs)(h.NavLink,{to:"/signup",className:b.a.NavLink,activeClassName:b.a.Active,children:[Object(N.jsx)("i",{className:"fa-solid fa-pen-to-square"}),"Sign Up"]})," "]}),r=e?Object(N.jsxs)("div",{children:[Object(N.jsx)("i",{className:"fa-solid fa-user-check"})," Logged In"]}):Object(N.jsxs)("div",{children:[Object(N.jsx)("i",{className:"fa-solid fa-user-slash"})," Logged Out"]});return Object(N.jsx)(l.a,{children:Object(N.jsxs)(j.a,{expanded:a,className:b.a.NavBar,expand:"md",fixed:"top",children:[Object(N.jsx)(h.NavLink,{to:"/",children:Object(N.jsx)(j.a.Brand,{children:Object(N.jsx)("img",{src:"data:image/jpeg;base64,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",alt:"logo",height:"45"})})}),r,Object(N.jsx)(j.a.Toggle,{ref:n,onClick:()=>s(!a),className:b.a.dropdown,"aria-controls":"basic-navbar-nav"}),Object(N.jsx)(j.a.Collapse,{id:"basic-navbar-nav",children:Object(N.jsxs)(d.a,{className:"ml-auto",children:[Object(N.jsxs)(h.NavLink,{exact:!0,to:"/",className:b.a.NavLink,activeClassName:b.a.Active,children:[Object(N.jsx)("i",{className:"fa-solid fa-house-user"}),"Home"]}),e?c:o]})})]})})},P=a(11),I=a.n(P),S=a(7),E=a.n(S),D=a(70),L=a(49),F=a(30),H=a(26),_=a(71);var T=()=>{var e,t,a,n;const[c,o]=Object(s.useState)({username:"",password1:"",password2:""}),{username:r,password1:j,password2:d}=c,[u,b]=Object(s.useState)({}),O=h.useHistory,x=e=>{o({...c,[e.target.name]:e.target.value})};return Object(N.jsx)(D.a,{className:E.a.Row,children:Object(N.jsx)(L.a,{className:"my-auto py-2 p-md-2",md:6,children:Object(N.jsxs)(l.a,{className:"".concat(i.a.Content," p-4 "),children:[Object(N.jsx)("h1",{className:E.a.Header,children:"sign up"}),Object(N.jsxs)(F.a,{onSubmit:async e=>{e.preventDefault();try{await A.a.post("/dj-rest-auth/registration/",c),O.push("/signin")}catch(a){var t;b(null===(t=a.response)||void 0===t?void 0:t.data)}},children:[Object(N.jsxs)(F.a.Group,{controlId:"username",children:[Object(N.jsx)(F.a.Label,{className:"d-none",children:"Username"}),Object(N.jsx)(F.a.Control,{className:E.a.Input,type:"text",placeholder:"username",name:"username",value:r,onChange:x})]}),null===(e=u.username)||void 0===e?void 0:e.map(((e,t)=>Object(N.jsx)(H.a,{variant:"warning",children:e},t))),Object(N.jsxs)(F.a.Group,{controlId:"password1",children:[Object(N.jsx)(F.a.Label,{className:"d-none",children:"Password"}),Object(N.jsx)(F.a.Control,{className:E.a.Input,type:"password",placeholder:"Password",name:"password1",value:j,onChange:x})]}),null===(t=u.password1)||void 0===t?void 0:t.map(((e,t)=>Object(N.jsx)(H.a,{variant:"warning",children:e},t))),Object(N.jsxs)(F.a.Group,{controlId:"password2",children:[Object(N.jsx)(F.a.Label,{className:"d-none",children:"Confirm Password"}),Object(N.jsx)(F.a.Control,{className:E.a.Input,type:"password",placeholder:"Confirm Password",name:"password2",value:d,onChange:x})]}),null===(a=u.password2)||void 0===a?void 0:a.map(((e,t)=>Object(N.jsx)(H.a,{variant:"warning",children:e},t))),Object(N.jsx)("div",{className:I.a.centerButton,children:Object(N.jsx)(_.a,{className:"".concat(I.a.Button," ").concat(I.a.wide),type:"submit",children:"Sign Up"})}),null===(n=u.non_field_errors)||void 0===n?void 0:n.map(((e,t)=>Object(N.jsx)(H.a,{variant:"warning",className:"mt-3",children:e},t)))]})]})})})};var R=function(){var e,t,a;const n=w(),[c,o]=Object(s.useState)({username:"",password:""}),{username:r,password:j}=c,[d,u]=Object(s.useState)({}),b=Object(h.useHistory)(),O=e=>{o({...c,[e.target.name]:e.target.value})};return Object(N.jsx)(D.a,{className:E.a.Row,children:Object(N.jsx)(L.a,{className:"my-auto py-2 p-md-2",md:6,children:Object(N.jsxs)(l.a,{className:"".concat(i.a.Content," p-4 "),children:[Object(N.jsx)("h1",{className:E.a.Header,children:"sign in"}),Object(N.jsxs)(F.a,{onSubmit:async e=>{e.preventDefault();try{const{data:e}=await A.a.post("/dj-rest-auth/login/",c);n(e.user),(e=>{const t=Object(v.a)(null===e||void 0===e?void 0:e.refresh_token).exp;localStorage.setItem("refreshTokenTimestamp",t)})(e),b.push("/")}catch(a){var t;u(null===(t=a.response)||void 0===t?void 0:t.data)}},children:[Object(N.jsxs)(F.a.Group,{controlId:"username",children:[Object(N.jsx)(F.a.Label,{className:"d-none",children:"Username"}),Object(N.jsx)(F.a.Control,{className:E.a.Input,type:"text",placeholder:"username",name:"username",value:r,onChange:O})]}),null===(e=d.username)||void 0===e?void 0:e.map(((e,t)=>Object(N.jsx)(H.a,{variant:"warning",children:e},t))),Object(N.jsxs)(F.a.Group,{controlId:"password",children:[Object(N.jsx)(F.a.Label,{className:"d-none",children:"Password"}),Object(N.jsx)(F.a.Control,{className:E.a.Input,type:"password",placeholder:"Password",name:"password",value:j,onChange:O})]}),null===(t=d.password)||void 0===t?void 0:t.map(((e,t)=>Object(N.jsx)(H.a,{variant:"warning",children:e},t))),Object(N.jsx)("div",{className:I.a.centerButton,children:Object(N.jsx)(_.a,{className:"".concat(I.a.Button," ").concat(I.a.wide),type:"submit",children:"Sign In"})}),null===(a=d.non_field_errors)||void 0===a?void 0:a.map(((e,t)=>Object(N.jsx)(H.a,{variant:"warning",className:"mt-3",children:e},t)))]})]})})})};var Q=()=>{var e,t,a,n,c;const[o,r]=Object(s.useState)({title:"",category:"",content:"",priority:"",due_date:""}),[j,d]=Object(s.useState)({}),[u,b]=Object(s.useState)({type:"",message:""}),{title:h,category:O,content:A,priority:p,due_date:v}=o,g=Object(m.useHistory)(),K=e=>{r({...o,[e.target.name]:e.target.value})};return Object(N.jsx)(D.a,{className:E.a.Row,children:Object(N.jsx)(L.a,{className:"my-auto py-2 p-md-2",children:Object(N.jsxs)(l.a,{className:"".concat(i.a.Content," ").concat(E.a.Container," d-flex flex-column justify-content-center"),children:[Object(N.jsx)("h1",{className:E.a.Header,children:"Create Task"}),u.message&&Object(N.jsx)(H.a,{variant:u.type,children:u.message}),Object(N.jsxs)(F.a,{onSubmit:async e=>{e.preventDefault();const t=new FormData;if(t.append("title",h.trim()),t.append("category",O),t.append("content",A.trim()),t.append("priority",p),v){const e=new Date(v).toISOString();t.append("due_date",e)}try{const{data:e}=await x.post("/tasks/",t);b({type:"success",message:"Task created"}),setTimeout((()=>{g.push("/tasks/".concat(e.id))}),2e3)}catch(n){var a,s;if(401!==(null===(a=n.response)||void 0===a?void 0:a.status))d(null===(s=n.response)||void 0===s?void 0:s.data),b({type:"danger",message:"Failed to create task. Please try again."})}},children:[Object(N.jsxs)(F.a.Group,{className:E.a.FormGroup,children:[Object(N.jsx)(F.a.Label,{children:"Title"}),Object(N.jsx)(F.a.Control,{className:E.a.Input,type:"text",name:"title",value:h,onChange:K}),null===j||void 0===j||null===(e=j.title)||void 0===e?void 0:e.map(((e,t)=>Object(N.jsx)(H.a,{variant:"warning",children:e},t)))]}),Object(N.jsxs)(F.a.Group,{className:E.a.FormGroup,children:[Object(N.jsx)(F.a.Label,{children:"Category"}),Object(N.jsxs)(F.a.Control,{as:"select",className:E.a.Input,name:"category",value:O,onChange:K,children:[Object(N.jsx)("option",{value:"",children:"Choose..."}),Object(N.jsx)("option",{value:"WORK",children:"Work"}),Object(N.jsx)("option",{value:"PERSONAL",children:"Personal"}),Object(N.jsx)("option",{value:"HOME",children:"Home"}),Object(N.jsx)("option",{value:"HEALTH",children:"Health"}),Object(N.jsx)("option",{value:"FINANCE",children:"Finance"}),Object(N.jsx)("option",{value:"EDUCATION",children:"Education"}),Object(N.jsx)("option",{value:"SHOPPING",children:"Shopping"}),Object(N.jsx)("option",{value:"TRAVEL",children:"Travel"}),Object(N.jsx)("option",{value:"HOBBIES",children:"Hobbies"}),Object(N.jsx)("option",{value:"SOCIAL",children:"Social"})]}),null===j||void 0===j||null===(t=j.category)||void 0===t?void 0:t.map(((e,t)=>Object(N.jsx)(H.a,{variant:"warning",children:e},t)))]}),Object(N.jsxs)(F.a.Group,{className:E.a.FormGroup,children:[Object(N.jsx)(F.a.Label,{children:"Content"}),Object(N.jsx)(F.a.Control,{as:"textarea",rows:3,className:E.a.Input,name:"content",value:A,onChange:K}),null===j||void 0===j||null===(a=j.content)||void 0===a?void 0:a.map(((e,t)=>Object(N.jsx)(H.a,{variant:"warning",children:e},t)))]}),Object(N.jsxs)(F.a.Group,{className:E.a.FormGroup,children:[Object(N.jsx)(F.a.Label,{children:"Priority"}),Object(N.jsxs)(F.a.Control,{as:"select",className:E.a.Input,name:"priority",value:p,onChange:K,children:[Object(N.jsx)("option",{value:"",children:"Select Priority"}),Object(N.jsx)("option",{value:"LOW",children:"Low"}),Object(N.jsx)("option",{value:"MEDIUM",children:"Medium"}),Object(N.jsx)("option",{value:"HIGH",children:"High"})]}),null===j||void 0===j||null===(n=j.priority)||void 0===n?void 0:n.map(((e,t)=>Object(N.jsx)(H.a,{variant:"warning",children:e},t)))]}),Object(N.jsxs)(F.a.Group,{className:E.a.FormGroup,children:[Object(N.jsx)(F.a.Label,{children:"Due Date"}),Object(N.jsx)(F.a.Control,{type:"date",className:E.a.Input,name:"due_date",value:v,onChange:K}),null===j||void 0===j||null===(c=j.due_date)||void 0===c?void 0:c.map(((e,t)=>Object(N.jsx)(H.a,{variant:"warning",children:e},t)))]}),Object(N.jsxs)("div",{className:I.a.centerButton,children:[Object(N.jsx)(_.a,{variant:"secondary",onClick:()=>g.goBack(),children:"Cancel"}),Object(N.jsx)(_.a,{type:"submit",className:I.a.Button,children:"Create Task"})]})]})]})})})},G=a(72),U=a(33),M=a.n(U);var X=function(e){let{task:t,onNoteCreate:a,profileImage:n,profile_id:c}=e;const[o,r]=Object(s.useState)("");return Object(N.jsxs)(F.a,{className:"mt-2",onSubmit:async e=>{e.preventDefault();try{const{data:e}=await p.post("/notes/",{content:o,task:t});a(e),r("")}catch(s){}},children:[Object(N.jsx)(F.a.Group,{children:Object(N.jsx)(G.a,{children:Object(N.jsx)(F.a.Control,{className:M.a.Form,placeholder:"Write a note...",as:"textarea",value:o,onChange:e=>{r(e.target.value)},rows:2})})}),Object(N.jsx)("button",{className:"".concat(M.a.Button," btn d-block ml-auto"),disabled:!o.trim(),type:"submit",children:"Leave Note"})]})},J=a(34),q=a.n(J),W=a(117),Z=a(37),V=a(55),z=a.n(V);const Y=n.a.forwardRef(((e,t)=>{let{onClick:a}=e;return Object(N.jsx)("i",{className:"fas fa-ellipsis-v",ref:t,onClick:e=>{e.preventDefault(),a(e)}})})),$=e=>{let{handleEdit:t,handleDelete:a}=e;return Object(N.jsxs)(Z.a,{className:"ml-auto",drop:"left",children:[Object(N.jsx)(Z.a.Toggle,{as:Y}),Object(N.jsxs)(Z.a.Menu,{className:"text-center",popperConfig:{strategy:"fixed"},children:[Object(N.jsx)(Z.a.Item,{className:z.a.DropdownItem,onClick:t,"aria-label":"edit",children:Object(N.jsx)("i",{className:"fas fa-edit"})}),Object(N.jsx)(Z.a.Item,{className:z.a.DropdownItem,onClick:a,"aria-label":"delete",children:Object(N.jsx)("i",{className:"fas fa-trash-alt"})})]})]})};var ee=e=>{const[t,a]=Object(s.useState)({type:"",message:""}),n=Object(h.useHistory)(),{category:c,content:o,due_date:r,id:i,overdue:l,owner:j,owners:d,priority:u,state:b,title:O,taskPage:A}=e,x=f(),m=(null===x||void 0===x?void 0:x.username)===j||(null===d||void 0===d?void 0:d.includes(null===x||void 0===x?void 0:x.username));return Object(N.jsx)(W.a,{className:q.a.Task,children:Object(N.jsx)(W.a.Body,{children:Object(N.jsxs)(D.a,{children:[Object(N.jsxs)(L.a,{children:[t.message&&Object(N.jsx)(H.a,{variant:t.type,children:t.message}),Object(N.jsx)(W.a.Title,{className:q.a.taskTitle,children:Object(N.jsx)("h4",{children:O})}),Object(N.jsx)(W.a.Text,{children:o}),m&&A&&Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("strong",{children:"Category:"})," ",c," ",Object(N.jsx)("br",{}),Object(N.jsx)("strong",{children:"Due Date:"})," ",r," ",Object(N.jsx)("br",{}),l&&Object(N.jsxs)("span",{className:q.a.Overdue,children:["Overdue by ",(()=>{if(!l)return 0;const e=new Date(r),t=new Date,a=Math.abs(t-e);return Math.ceil(a/864e5)})()," days"]}),Object(N.jsx)("strong",{children:"Priority:"})," ",u," ",Object(N.jsx)("br",{}),Object(N.jsx)("strong",{children:"Status:"})," ",b," ",Object(N.jsx)("br",{})]}),Object(N.jsx)("div",{className:q.a.Comment,children:!A&&Object(N.jsx)(h.Link,{to:"/tasks/".concat(i),children:Object(N.jsx)(_.a,{className:I.a.Button,children:"View Task"})})})]}),A&&m&&Object(N.jsx)(L.a,{xs:2,sm:1,className:"text-right",children:Object(N.jsx)($,{handleEdit:()=>{n.push("/tasks/".concat(i,"/edit"))},handleDelete:async()=>{try{await p.delete("/tasks/".concat(i,"/")),a({type:"success",message:"Task deleted"}),setTimeout((()=>{n.goBack()}),2e3)}catch(e){}}})})]})})})},te=a(114),ae=a(56),se=a.n(ae);var ne=function(e){const{id:t,content:a,setShowEditForm:n,setNotes:c}=e,[o,r]=Object(s.useState)(a);return Object(N.jsxs)(F.a,{onSubmit:async e=>{e.preventDefault();try{await p.put("/notes/".concat(t,"/"),{content:o.trim()}),c((e=>({...e,results:e.results.map((e=>e.id===t?{...e,content:o.trim(),updated_at:"now"}:e))}))),n(!1)}catch(a){}},children:[Object(N.jsx)(F.a.Group,{className:"pr-1",children:Object(N.jsx)(F.a.Control,{className:M.a.Form,as:"textarea",value:o,onChange:e=>{r(e.target.value)},rows:2})}),Object(N.jsxs)("div",{className:"text-right",children:[Object(N.jsx)("button",{className:M.a.Button,onClick:()=>n(!1),type:"button",children:"cancel"}),Object(N.jsx)("button",{className:M.a.Button,disabled:!a.trim(),type:"submit",children:"save"})]})]})};var ce=e=>{let{owner:t,updated_at:a,content:n,id:c,setNotes:o}=e;const[r,i]=Object(s.useState)(!1),l=f(),j=(null===l||void 0===l?void 0:l.username)===t;return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("hr",{}),Object(N.jsxs)(te.a,{children:[Object(N.jsxs)(te.a.Body,{className:"align-self-center ml-2",children:[Object(N.jsx)("span",{className:se.a.Owner,children:t}),Object(N.jsx)("span",{className:se.a.Date,children:a}),r?Object(N.jsx)(ne,{id:c,content:n,setNotes:o,setShowEditForm:i}):Object(N.jsx)("p",{children:n})]}),j&&!r&&Object(N.jsx)($,{handleEdit:()=>i(!0),handleDelete:async()=>{try{await p.delete("/notes/".concat(c,"/")),o((e=>({...e,results:e.results.filter((e=>e.id!==c))})))}catch(e){}}})]})]})};var oe=function(){const e=Object(h.useHistory)(),{id:t}=Object(h.useParams)(),[a,n]=Object(s.useState)({results:[]}),c=f(),o=null===c||void 0===c?void 0:c.profile_image,[r,j]=Object(s.useState)({results:[]});return Object(s.useEffect)((()=>{(async()=>{try{const[{data:e},{data:a}]=await Promise.all([x.get("/tasks/".concat(t)),x.get("/notes/?task=".concat(t))]);n(e),j(a)}catch(e){}})()}),[t]),Object(N.jsx)(D.a,{className:"h-100",children:Object(N.jsxs)(L.a,{className:"py-2 p-0 p-lg-2",children:[Object(N.jsx)("div",{className:q.a.Back,children:Object(N.jsx)(_.a,{className:"".concat(I.a.Button," ").concat(I.a.wide),onClick:()=>e.goBack(),children:"Go Back"})}),a&&Object(N.jsx)(ee,{...a,setTasks:n,taskPage:!0,onTaskPage:!0}),Object(N.jsxs)(l.a,{className:i.a.Content,children:[c?Object(N.jsx)(X,{profile_id:c.profile_id,profileImage:o,task:t,setTask:n,onNoteCreate:e=>{j((t=>({...t,results:[e,...t.results]})))}}):r.results.length?"Notes":null,r.results.length?r.results.map((e=>Object(N.jsx)(ce,{...e,setNotes:j},e.id))):Object(N.jsx)("span",{})]})]})})},re=a(73),ie=a(57),le=a.n(ie);var je=()=>{const[e,t]=Object(s.useState)([]),[a,n]=Object(s.useState)(""),[c,o]=Object(s.useState)(""),[r,i]=Object(s.useState)(!1),[j,d]=Object(s.useState)(1),[u,b]=Object(s.useState)(!0),[O,A]=Object(s.useState)(null),p=f(),m=Object(s.useCallback)((async()=>{1===j&&i(!0);try{let e="/tasks/?ordering=due_date&page=".concat(j);a&&(e+="&search=".concat(a)),c&&(e+="&category=".concat(c));const{data:s}=await x.get(e);t((e=>1===j?s.results:[...e,...s.results])),b(null!==s.next)}catch(e){}finally{1===j&&i(!1)}}),[a,c,j]);Object(s.useEffect)((()=>{m()}),[m]);return p?Object(N.jsxs)(l.a,{className:le.a.TasksPage,children:[Object(N.jsx)(D.a,{className:"my-4",children:Object(N.jsx)(L.a,{md:12,children:Object(N.jsxs)(F.a,{onSubmit:e=>{e.preventDefault(),m()},children:[Object(N.jsx)(G.a,{className:"mb-3",children:Object(N.jsx)(F.a.Control,{placeholder:"Search for tasks",onChange:e=>{const a=e.target.value;O&&clearTimeout(O),A(setTimeout((()=>{n(a),d(1),t([])}),1e3))}})}),Object(N.jsx)(F.a.Group,{controlId:"categorySelect",children:Object(N.jsx)(F.a.Control,{as:"select",value:c,onChange:e=>{o(e.target.value),d(1),t([])},children:["All","WORK","PERSONAL","HOME","HEALTH","FINANCE","EDUCATION","SHOPPING","TRAVEL","HOBBIES","SOCIAL"].map((e=>Object(N.jsx)("option",{value:"All"===e?"":e,children:e},e)))})})]})})}),Object(N.jsx)(D.a,{children:Object(N.jsxs)(L.a,{md:12,children:[Object(N.jsx)(re.a,{dataLength:e.length,next:()=>d((e=>e+1)),hasMore:u,loader:Object(N.jsx)("div",{className:"text-center",children:"Loading..."}),children:e.map((e=>Object(N.jsx)(ee,{...e,setTasks:t,taskPage:!1},e.id)))}),!r&&0===e.length&&Object(N.jsx)("p",{children:"No tasks found."})]})})]}):Object(N.jsx)(l.a,{className:le.a.TasksPage,children:Object(N.jsx)(D.a,{className:"mt-5",children:Object(N.jsxs)(L.a,{md:12,className:"text-center",children:[Object(N.jsx)("h2",{children:"Please Log In"}),Object(N.jsx)("p",{children:"To view tasks, you need to log in."}),Object(N.jsx)(h.Link,{to:"/signin",children:Object(N.jsx)(_.a,{variant:"primary",children:"Log In"})}),Object(N.jsxs)("p",{className:"mt-3",children:["Don't have an account? ",Object(N.jsx)(h.Link,{to:"/signup",children:"Sign Up"})]})]})})})};var de=()=>{var e,t,a,n,c;const[o,r]=Object(s.useState)({title:"",category:"",content:"",priority:"",due_date:""}),[j,d]=Object(s.useState)({}),[u,b]=Object(s.useState)({type:"",message:""}),{title:O,category:A,content:p,priority:m,due_date:v}=o,g=Object(h.useHistory)(),{id:K}=Object(h.useParams)();Object(s.useEffect)((()=>{(async()=>{try{const{data:e}=await x.get("/tasks/".concat(K,"/"));let t="";if(e.due_date){const a=e.due_date.split(" "),s=a[0],n=a[1],c=a[2],o={Jan:"01",Feb:"02",Mar:"03",Apr:"04",May:"05",Jun:"06",Jul:"07",Aug:"08",Sep:"09",Oct:"10",Nov:"11",Dec:"12"}[n];t="".concat(c,"-").concat(o,"-").concat(s)}r({...e,due_date:t})}catch(e){console.error(e)}})()}),[g,K]);const C=e=>{const{name:t,value:a}=e.target;r({...o,[t]:a})};return Object(N.jsx)(D.a,{className:E.a.Row,children:Object(N.jsx)(L.a,{className:"my-auto py-2 p-md-2",md:6,children:Object(N.jsxs)(l.a,{className:"".concat(i.a.Content," ").concat(E.a.Container," d-flex flex-column justify-content-center"),children:[Object(N.jsx)("h1",{className:E.a.Header,children:"Edit Task"}),u.message&&Object(N.jsx)(H.a,{variant:u.type,children:u.message}),Object(N.jsxs)(F.a,{onSubmit:async e=>{e.preventDefault();const t=new FormData;if(t.append("title",O),t.append("category",A),t.append("content",p),t.append("priority",m),v){const e=new Date(v).toISOString();t.append("due_date",e)}try{await x.put("/tasks/".concat(K,"/"),t),b({type:"success",message:"Task edited"}),setTimeout((()=>{g.goBack()}),2e3)}catch(n){var a,s;if(401!==(null===(a=n.response)||void 0===a?void 0:a.status))d(null===(s=n.response)||void 0===s?void 0:s.data),b({type:"danger",message:"Failed to edit task. Please try again."})}},children:[Object(N.jsxs)(F.a.Group,{className:E.a.FormGroup,children:[Object(N.jsx)(F.a.Label,{children:"Title"}),Object(N.jsx)(F.a.Control,{className:E.a.Input,type:"text",name:"title",value:O,onChange:C})]}),null===j||void 0===j||null===(e=j.title)||void 0===e?void 0:e.map(((e,t)=>Object(N.jsx)(H.a,{variant:"warning",children:e},t))),Object(N.jsxs)(F.a.Group,{className:E.a.FormGroup,children:[Object(N.jsx)(F.a.Label,{children:"Category"}),Object(N.jsxs)(F.a.Control,{as:"select",className:E.a.Input,name:"category",value:A,onChange:C,children:[Object(N.jsx)("option",{value:"",children:"Choose..."}),Object(N.jsx)("option",{value:"WORK",children:"Work"}),Object(N.jsx)("option",{value:"PERSONAL",children:"Personal"}),Object(N.jsx)("option",{value:"HOME",children:"Home"}),Object(N.jsx)("option",{value:"HEALTH",children:"Health"}),Object(N.jsx)("option",{value:"FINANCE",children:"Finance"}),Object(N.jsx)("option",{value:"EDUCATION",children:"Education"}),Object(N.jsx)("option",{value:"SHOPPING",children:"Shopping"}),Object(N.jsx)("option",{value:"TRAVEL",children:"Travel"}),Object(N.jsx)("option",{value:"HOBBIES",children:"Hobbies"}),Object(N.jsx)("option",{value:"SOCIAL",children:"Social"})]})]}),null===j||void 0===j||null===(t=j.category)||void 0===t?void 0:t.map(((e,t)=>Object(N.jsx)(H.a,{variant:"warning",children:e},t))),Object(N.jsxs)(F.a.Group,{className:E.a.FormGroup,children:[Object(N.jsx)(F.a.Label,{children:"Content"}),Object(N.jsx)(F.a.Control,{as:"textarea",rows:3,className:E.a.Input,name:"content",value:p,onChange:C})]}),null===j||void 0===j||null===(a=j.content)||void 0===a?void 0:a.map(((e,t)=>Object(N.jsx)(H.a,{variant:"warning",children:e},t))),Object(N.jsxs)(F.a.Group,{className:E.a.FormGroup,children:[Object(N.jsx)(F.a.Label,{children:"Priority"}),Object(N.jsxs)(F.a.Control,{as:"select",className:E.a.Input,name:"priority",value:m,onChange:C,children:[Object(N.jsx)("option",{value:"",children:"Select Priority"}),Object(N.jsx)("option",{value:"LOW",children:"Low"}),Object(N.jsx)("option",{value:"MEDIUM",children:"Medium"}),Object(N.jsx)("option",{value:"HIGH",children:"High"})]})]}),null===j||void 0===j||null===(n=j.priority)||void 0===n?void 0:n.map(((e,t)=>Object(N.jsx)(H.a,{variant:"warning",children:e},t))),Object(N.jsxs)(F.a.Group,{className:E.a.FormGroup,children:[Object(N.jsx)(F.a.Label,{children:"Due Date"}),Object(N.jsx)(F.a.Control,{type:"date",className:E.a.Input,name:"due_date",value:v,onChange:C})]}),null===j||void 0===j||null===(c=j.due_date)||void 0===c?void 0:c.map(((e,t)=>Object(N.jsx)(H.a,{variant:"warning",children:e},t))),Object(N.jsxs)("div",{className:I.a.centerButton,children:[Object(N.jsx)(_.a,{className:"".concat(I.a.Button," ").concat(I.a.wide),onClick:()=>g.goBack(),children:"Cancel"}),Object(N.jsx)(_.a,{className:"".concat(I.a.Button," ").concat(I.a.wide),type:"submit",children:"Update Task"})]})]})]})})})},ue=a(74),be=a.n(ue);var he=()=>Object(N.jsx)("div",{className:be.a.NotFound,children:Object(N.jsx)("h2",{children:"Sorry, Page not found !"})});var Oe=function(){return Object(N.jsxs)("div",{className:i.a.App,children:[Object(N.jsx)(B,{}),Object(N.jsx)(l.a,{className:i.a.Main,children:Object(N.jsxs)(m.Switch,{children:[Object(N.jsx)(m.Route,{exact:!0,path:"/",render:()=>Object(N.jsx)(je,{})}),Object(N.jsx)(m.Route,{exact:!0,path:"/signin",render:()=>Object(N.jsx)(R,{})}),Object(N.jsx)(m.Route,{exact:!0,path:"/signup",render:()=>Object(N.jsx)(T,{})}),Object(N.jsx)(m.Route,{exact:!0,path:"/tasks/create",render:()=>Object(N.jsx)(Q,{})}),Object(N.jsx)(m.Route,{exact:!0,path:"/tasks/:id/edit",render:()=>Object(N.jsx)(de,{})}),Object(N.jsx)(m.Route,{exact:!0,path:"/tasks/:id",render:()=>Object(N.jsx)(oe,{})}),Object(N.jsx)(m.Route,{render:()=>Object(N.jsx)(he,{})})]})})]})};var Ae=e=>{e&&e instanceof Function&&a.e(3).then(a.bind(null,118)).then((t=>{let{getCLS:a,getFID:s,getFCP:n,getLCP:c,getTTFB:o}=t;a(e),s(e),n(e),c(e),o(e)}))},xe=a(43);o.a.render(Object(N.jsx)(xe.a,{children:Object(N.jsx)(k,{children:Object(N.jsx)(Oe,{})})}),document.getElementById("root")),Ae()},18:function(e,t,a){e.exports={App:"App_App__16ZpL",Main:"App_Main__HQkvd",Content:"App_Content__ZaMNr"}},19:function(e,t,a){e.exports={NavBar:"NavBar_NavBar__1amC6",dropdown:"NavBar_dropdown__DnB2T",NavLink:"NavBar_NavLink__34ons",Active:"NavBar_Active__3PBZb"}},33:function(e,t,a){e.exports={Form:"NoteCreateEditForm_Form__G8Z1D",Button:"NoteCreateEditForm_Button__3fo9D"}},34:function(e,t,a){e.exports={Task:"Task_Task__3r7K9",Back:"Task_Back__2ZoIN",Comment:"Task_Comment__1D6VB",taskTitle:"Task_taskTitle__1AvDP"}},55:function(e,t,a){e.exports={DropdownItem:"MoreDropdown_DropdownItem__2E4UM",Absolute:"MoreDropdown_Absolute__2RO70"}},56:function(e,t,a){e.exports={Owner:"Note_Owner__2NSkh",Date:"Note_Date__1qg_H"}},57:function(e,t,a){e.exports={SearchBar:"TasksPage_SearchBar__hCMay",SearchIcon:"TasksPage_SearchIcon__7YqSy"}},7:function(e,t,a){e.exports={Row:"SignForms_Row__gR5vh",Input:"SignForms_Input__2X_jq",Header:"SignForms_Header__18Dln"}},74:function(e,t,a){e.exports={NotFound:"NotFound_NotFound__AmwKj"}},79:function(e,t,a){}},[[111,1,2]]]);
//# sourceMappingURL=main.71c59d30.chunk.js.map